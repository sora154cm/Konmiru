<h1>ユーザー(レシピ)覧ページ</h2>

<div><%= link_to "トップページ", root_path %></div>

<h2>レシピ一覧</h2>
<% @all_recipe.each do |recipe| %>
<div>
  <!-- ユーザー名とユーザーの画像を表示 -->
  <div>
    <h4><%= recipe.user.user_name.presence || "ユーザー(#{recipe.user.id})" %></h4>
    <% if recipe.user.profile_image.present? %>
      <%= image_tag recipe.user.profile_image, size: '100x100' %>
    <% else %>
      <%= image_tag "no_image.png", size: '100x100' %>
    <% end %>
  </div>

  <h3><%= link_to recipe.recipe_name, user_recipe_path(recipe.user, recipe) %></h3>
  <!-- 投稿したレシピ画像が存在すればそれを表示し、存在しなければデフォルトの画像を表示 -->
  <% if recipe.recipe_image.attached? %>
    <%= image_tag url_for(recipe.recipe_image), size: '300x200' %>
  <% else %>
    <%= image_tag "no_image.png", size: '300x200' %>
  <% end %>
</div>
<% end %>